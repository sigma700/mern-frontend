import{w,a as m,o as e}from"./chunk-NL6KNZEE-UgZfVOb5.js";const C=w(function(){const[t,i]=m.useState({name:"",type:"",fee:"",location:"",system:""}),[x,p]=m.useState(!1),[d,b]=m.useState(null),[y,j]=m.useState(!1),a=g=>{const{name:o,value:h}=g.target;i(u=>({...u,[o]:h}))},v=async g=>{g.preventDefault(),p(!0),b(null),j(!1);try{const o=new FormData;console.log("Form Data",t),Object.entries(t).forEach(([f,c])=>{c!=null&&o.append(f,c)});for(let[f,c]of o.entries())console.log(f,c);const h=await fetch("http://localhost:4000/api/schools/create",{method:"POST",headers:{},body:o}),u=await h.json();if(!h.ok)throw new Error(u.message||"Failed to create school");u.success&&(j(!0),i({name:"",location:"",type:"",fee:"",contact:"",system:"",image:null}))}catch{b("Could not create school")}finally{p(!1)}};return e.jsxs("main",{className:"text-black h-full flex items-center justify-center",children:[e.jsx("style",{children:`
                    main {
                            min-height: 100vh;
                            width: 100vw;
                            background-image: url('/milad-fakurian-GJKx5lhwU3M-unsplash.jpg');
                            background-size: cover;
                            background-position: center;
                            background-repeat: no-repeat;
                            margin: 0;
                            padding: 0;
                    }
            `}),e.jsxs("div",{children:[e.jsx("h1",{className:"lg:text-[30px] text-center mb-[30px]",children:"Provide your school info"}),e.jsxs("div",{className:"lg:w-[480px] w-[350px] p-[20px] lg:p-[100px]",style:{border:"3px solid #ccc",borderRadius:"8px",margin:"0 auto"},children:[d&&e.jsx("div",{className:"bg-red-500 text-black p-[10px] rounded-[10px] mt-[20px]",children:d}),y&&e.jsxs("div",{className:"bg-green-500 text-black p-[10px] rounded-[10px] mt-[30px]",children:["School created succesfully thank you"," "]}),e.jsx("h2",{className:"lg:text-[30px] text-blue-600 font-extrabold text-center text-[30px]",children:"Upload an Image"}),e.jsxs("form",{onSubmit:v,children:[e.jsx("input",{type:"file",accept:"image/*"}),e.jsx("button",{className:"bg-blue-500 text-white p-[10px] rounded-[10px] font-extralight",type:"submit",style:{marginTop:"10px"},children:"Upload"}),e.jsxs(l,{children:[e.jsx(n,{text:"Name"}),e.jsx(r,{name:"name",value:t.name,onChange:a,type:"text",placeholder:"Enter school name"})]}),e.jsxs(l,{children:[e.jsx(n,{text:"Location"}),e.jsx(r,{name:"location",value:t.location,onChange:a,type:"text",placeholder:"School Location"})]}),e.jsxs(l,{children:[e.jsx(n,{text:"Type"}),e.jsx(r,{name:"type",value:t.type,onChange:a,type:"text",placeholder:"Public/Private/International"})]}),e.jsxs(l,{children:[e.jsx(n,{text:"Fees per term"}),e.jsx(r,{name:"fee",value:t.fee,onChange:a,type:"text",placeholder:"School fee per term"})]}),e.jsxs(l,{children:[e.jsx(n,{text:`Contact
              Details`}),e.jsx(r,{name:"contact",value:t.contact,onChange:a,type:"text",placeholder:"Number or email adress"})]}),e.jsxs(l,{children:[e.jsx(n,{text:"School system"}),e.jsx(r,{name:"system",value:t.system,onChange:a,type:"text",placeholder:"CBC ,  8-4-4 etc.."})]}),e.jsx("button",{className:"bg-blue-500 text-white p-[10px] rounded-[10px] font-extralight w-full mt-6 hover:bg-white hover:text-black hover:cursor-pointer hover:transition-colors hover:duration-[0.3s] hover:border duration-[0.2s]",type:"submit",disabled:x,children:x?"Creating school..":"Add your school"})]})]})]})]})});function n({htmlFor:s,text:t}){return e.jsx("label",{className:"lg:text-[20px]",htmlFor:s,children:t})}function r({name:s,type:t,placeholder:i,value:x,onChange:p,required:d}){return e.jsx("input",{value:x,onChange:p,required:d,className:"p-[10px] rounded-[10px] bg-transparent border lg:w-[300px] ",type:t,name:s,placeholder:i})}function l({children:s}){return e.jsx("div",{className:"flex flex-col gap-[5px]",children:s})}export{C as default};
